var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired76b;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,a.call(s.exports,s,s.exports),s.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired76b=a),a.register,a("8BLYq"),a("ghd3k");var s=a("asj7U"),o=a("g2HCo"),i=a("jkGDt"),r=a("cDe6Z"),l=a("aXXGU"),u=a("1GAPJ");const c={width:"280px",position:"right-top",distance:"10px",timeout:2e3,backOverlay:!1,showOnlyTheLastOne:!0,clickToClose:!0,fontFamily:"Quicksand",fontSize:"16px",cssAnimationDuration:800,useIcon:!1,useFontAwesome:!0,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"15px",failure:{background:"rgb(255, 0, 27, 1)",textColor:"#fff"},warning:{background:"rgb(255, 0, 27, 1)",textColor:"#fff"}};var d=a("26jpS");async function g(e){e.preventDefault();let t=e.target,n=t.elements.searchMovies.value.trim();if((0,d.createCurrentPageFromStorage)(l.paginationSettings.startPage,"SEARCH_MOVIES",n),""===n){(0,u.Notify).warning("Please enter the movie title!",c);return}let a=await (0,i.getSearchMovies)(n,l.paginationSettings.startPage);(0,o.checkingForMoviesAndRender)(s.moviesListRefs.homeMoviesList,a,r.movieListStubTitles.search),t.reset()}(0,s.searchFormRef).addEventListener("submit",g),a("4g91M"),a("dsYso"),a("jkGDt"),a("g5Oyh");var i=a("jkGDt"),s=a("asj7U"),o=a("g2HCo"),r=a("cDe6Z"),s=a("asj7U"),o=a("g2HCo"),i=a("jkGDt"),r=a("cDe6Z"),d=a("26jpS");async function f(e){(0,d.createCurrentPageFromStorage)(e,"TRENDING_MOVIES","");let t=await (0,i.getTrendingMovies)(e);(0,o.checkingForMoviesAndRender)(s.moviesListRefs.homeMoviesList,t,r.movieListStubTitles.common)}var p=a("4S1lB"),l=a("aXXGU");const m=(0,p.getDataFromSessionStorage)("currentSetPagination");!async function(){if((0,s.headerLinkRefs).home.classList.add("header-link-active"),!m)return f(l.paginationSettings.startPage);if("SEARCH_MOVIES"===m.type){let e=await (0,i.getSearchMovies)(m.query,m.page);(0,o.checkingForMoviesAndRender)(s.moviesListRefs.homeMoviesList,e,r.movieListStubTitles.search)}else f(m.page||l.paginationSettings.startPage)}();var s=a("asj7U"),y=a("kjx5D"),h=a("7UV4g");const b=()=>`
  <strong>SignUp</strong>
    <form class="signUp-form">
      <input class="email-input" placeholder="Email" name="email" type="email" />
      <input class="password-input" placeholder="Password" name="password" type="password" />
        <button type='submit' class="submit-signUp">SignUp</button>
        <button type='button' class="google-signIn">\u{413}\u{443}\u{433}\u{435}\u{43B}</button>
    </form>
    <p>or</p><button type=button class='signIn-btn-inModal'>SignIn</button>
    `,v=()=>`
  <strong>SignIn</strong>
    <form class="signIn-form">
      <input class="email-input" placeholder="Email" name="email" type="email" />
      <input class="password-input" placeholder="Password" name="password" type="password" />
      <button type='submit' class="submit-signIn">SignIn</button>
      <button type='button' class="google-signIn">\u{413}\u{443}\u{433}\u{435}\u{43B}</button>
  </form>
    <p>or</p><button type=button class='signUp-btn-inModal'>SignUp</button>
  `;var R=a("l9ZQJ"),S=a("613rw"),L=a("eyjy7"),R=a("l9ZQJ"),y=a("kjx5D"),u=a("1GAPJ");const k=new L.GoogleAuthProvider;async function w(){try{await (0,L.signInWithPopup)(R.auth,k),(0,y.onCloseModal)()}catch(t){let e;e=t instanceof Error?t.message:String(t),(0,u.Notify).failure(e)}}var L=a("eyjy7"),u=a("1GAPJ"),y=a("kjx5D");async function U(e,t,n){try{await (0,L.signInWithEmailAndPassword)(e,t,n),(0,y.onCloseModal)()}catch(t){let e;e=t instanceof Error?t.message:String(t),(0,u.Notify).failure(e)}}var L=a("eyjy7"),u=a("1GAPJ"),y=a("kjx5D");async function E(e,t,n){try{await (0,L.createUserWithEmailAndPassword)(e,t,n),(0,y.onCloseModal)()}catch(t){let e;e=t instanceof Error?t.message:String(t),(0,u.Notify).failure(e)}}var I=a("dabnO");(0,s.authRefs).authBlock.addEventListener("click",function(e){if(e.target===s.authRefs.signUp&&((0,s.modalRefs).modalContainer.classList.add("auth-container"),(0,h.modalRender)(b()),(0,y.onOpenModal)(),D=document.querySelector(".signUp-form")),e.target===s.authRefs.signIn&&((0,s.modalRefs).modalContainer.classList.add("auth-container"),(0,h.modalRender)(v()),(0,y.onOpenModal)(),D=document.querySelector(".signIn-form")),e.target===s.authRefs.signOut&&(0,I.signOutFunc)(R.auth),D){D.addEventListener("submit",C);let e=document.querySelector(".google-signIn");e?.addEventListener("click",w)}});let D=null;async function C(e){if(!D)return;e.preventDefault();let t=new FormData(D),n=t.get("email"),a=t.get("password");D.classList.contains("signUp-form")?E(R.auth,n,a):U(R.auth,n,a)}(0,R.auth).onAuthStateChanged(e=>{null!==e?(s.authRefs.signUp.style.display="none",s.authRefs.signIn.style.display="none",s.authRefs.signOut.style.display="block",s.headerLinkRefs.library.style.pointerEvents="",s.authRefs.currentUser.style.display="block",s.authRefs.currentUser.textContent=e.email,(0,S.setDataFromLocalSrorage)("auth",e)):(s.authRefs.signUp.style.display="inline-block",s.authRefs.signIn.style.display="inline-block",s.authRefs.signOut.style.display="none",s.headerLinkRefs.library.style.pointerEvents="none",s.headerLinkRefs.library.style.pointerEvents="none",s.authRefs.currentUser.style.display="none",(0,S.setDataFromLocalSrorage)("auth",null))}),function(){let e=(0,S.getDataFromLocalStorage)("auth");e?(s.authRefs.signUp.style.display="none",s.authRefs.signIn.style.display="none",s.authRefs.signOut.style.display="block",s.headerLinkRefs.library.style.pointerEvents="",s.authRefs.currentUser.style.display="block",s.authRefs.currentUser.textContent=e.email):(s.authRefs.signUp.style.display="inline-block",s.authRefs.signIn.style.display="inline-block",s.authRefs.signOut.style.display="none",s.headerLinkRefs.library.style.pointerEvents="none",s.authRefs.currentUser.style.display="none")}();var s=a("asj7U"),h=a("7UV4g"),R=a("l9ZQJ");(0,s.modalRefs).modalContainer.addEventListener("click",function(e){let t=document.querySelector(".signUp-btn-inModal"),n=document.querySelector(".signIn-btn-inModal");if(e.target===t&&((0,s.modalRefs).modalContainer.classList.remove("modal-details-container"),(0,s.modalRefs).modalContainer.classList.add("auth-container"),(0,h.modalRender)(b()),M=document.querySelector(".signUp-form")),e.target===n&&((0,s.modalRefs).modalContainer.classList.remove("modal-details-container"),(0,s.modalRefs).modalContainer.classList.add("auth-container"),(0,h.modalRender)(v()),M=document.querySelector(".signIn-form")),M){M.addEventListener("submit",j);let e=document.querySelector(".google-signIn");e?.addEventListener("click",w)}});let M=null;async function j(e){if(!M)return;e.preventDefault();let t=new FormData(M),n=t.get("email"),a=t.get("password");M.classList.contains("signUp-form")?E(R.auth,n,a):U(R.auth,n,a)}var O=a("jAzyG"),S=a("613rw"),R=a("l9ZQJ");const A=(0,S.getDataFromLocalStorage)("auth");(0,O.ref)(R.database,"movies/"+A.uid);
//# sourceMappingURL=index.0ddfb0da.js.map
