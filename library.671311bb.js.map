{"mappings":"C,A,W,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,E,S,E,S,E,S,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,SEMA,IAAM,EAAmB,AAAA,CAAA,EAAA,EAAA,uBAAsB,AAAtB,EAAwB,qBAC3C,EAAY,AAAA,CAAA,EAAA,EAAA,uBAAsB,AAAtB,EAAwB,mBAEtC,EAAkB,EAAE,CAwBxB,eAAe,IACb,AAAA,EAAA,kBAAiB,CAAE,UAAU,CAAG,iBAEhC,AAAA,EAAA,oBAAmB,CAAE,QAAQ,EAAE,UAAU,OAAO,qBAChD,AAAA,EAAA,oBAAmB,CAAE,UAAU,EAAE,UAAU,IAAI,qBAE/C,IAAM,EAAW,EAAY,GAAG,CAAC,AAAC,GAAc,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,IAGhE,EAFA,EAAa,MAAM,QAAQ,UAAU,CAAC,IAItC,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,EAAe,CAAE,KAAM,EAAG,aAAc,GAAI,WAAY,EAAY,MAAM,AAAC,EAC7E,CAEA,eAAe,IACb,AAAA,EAAA,kBAAiB,CAAE,UAAU,CAAG,eAChC,AAAA,EAAA,oBAAmB,CAAE,UAAU,EAAE,UAAU,OAAO,qBAClD,AAAA,EAAA,oBAAmB,CAAE,QAAQ,EAAE,UAAU,IAAI,qBAE7C,IAAM,EAAW,EAAY,GAAG,CAAC,AAAC,GAAc,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,IAGhE,EAFA,EAAa,MAAM,QAAQ,UAAU,CAAC,IAItC,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,EAAe,CAAE,KAAM,EAAG,aAAc,GAAI,WAAY,EAAU,MAAM,CAAG,CAAE,EAC/E,CAEA,SAAS,EAAyB,CAAe,EAC/C,GAAI,EAAW,MAAM,CAAG,GAAI,CAC1B,EAAA,aAAY,EAAG,UAAU,OAAO,UAChC,IAAM,EAAQ,EAAW,KAAK,CAAC,EAAG,IAClC,AAAA,CAAA,EAAA,EAAA,uBAAsB,AAAtB,EAAwB,AAAA,EAAA,cAAa,CAAE,iBAAiB,CAAE,EAC5D,MACE,EAAA,aAAY,EAAG,UAAU,IAAI,UAC7B,AAAA,CAAA,EAAA,EAAA,uBAAsB,AAAtB,EAAwB,AAAA,EAAA,cAAa,CAAE,iBAAiB,CAAE,EAE9D,CA1DA,AAAA,EAAA,oBAAmB,CAAE,UAAU,EAAE,iBAAiB,QAAS,GAC3D,AAAA,EAAA,oBAAmB,CAAE,QAAQ,EAAE,iBAAiB,QAAS,GAmBzD,AAjBA,iBACE,AAAA,EAAA,kBAAiB,CAAE,UAAU,CAAG,iBAEhC,AAAA,EAAA,cAAa,CAAE,OAAO,EAAE,UAAU,IAAI,sBACtC,AAAA,EAAA,oBAAmB,CAAE,UAAU,EAAE,UAAU,IAAI,qBAC/C,GAAI,CACF,IAAM,EAAW,EAAY,GAAG,CAAC,AAAC,GAAc,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,IAChE,EAAa,MAAM,QAAQ,UAAU,CAAC,GAEtC,EAAyB,EAC3B,CAAE,MAAO,EAAO,CACd,QAAQ,GAAG,CAAC,EACd,CAEA,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,EAAe,CAAE,KAAM,EAAG,aAAc,GAAI,WAAY,EAAY,MAAM,AAAC,EAC7E,I,E,S,E,Q","sources":["<anon>","src/library.ts","src/ts/moviesInMyLibrary.ts"],"sourcesContent":["(function () {\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired76b\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired76b\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRequire(\"hjrAb\");\nparcelRequire(\"1AclA\");\nparcelRequire(\"7NfbZ\");\n\nvar $imjxJ = parcelRequire(\"imjxJ\");\n\nvar $6xcLG = parcelRequire(\"6xcLG\");\n\nvar $5Hp5W = parcelRequire(\"5Hp5W\");\n\nvar $6dOZP = parcelRequire(\"6dOZP\");\n\nvar $h2V5u = parcelRequire(\"h2V5u\");\nconst $da74c390970f0280$var$watchedList = (0, $6xcLG.getDataFromLocalStorage)(\"watchedListMovies\");\nconst $da74c390970f0280$var$queueList = (0, $6xcLG.getDataFromLocalStorage)(\"queueListMovies\");\nlet $da74c390970f0280$var$moviesList = [];\n(0, $imjxJ.btnLibraryMoviesRefs).watchedBtn?.addEventListener(\"click\", $da74c390970f0280$var$onClickWatchedBtn);\n(0, $imjxJ.btnLibraryMoviesRefs).queueBtn?.addEventListener(\"click\", $da74c390970f0280$var$onClickQueueBtn);\nasync function $da74c390970f0280$var$libraryMoviesRender() {\n    (0, $5Hp5W.paginationSettings).moviesType = \"WATCHED_MOVIES\";\n    (0, $imjxJ.headerLinkRefs).library?.classList.add(\"header-link-active\");\n    (0, $imjxJ.btnLibraryMoviesRefs).watchedBtn?.classList.add(\"active-movie-list\");\n    try {\n        const promises = $da74c390970f0280$var$watchedList.map((item)=>(0, $h2V5u.getMovieDetails)(item));\n        $da74c390970f0280$var$moviesList = await Promise.allSettled(promises);\n        $da74c390970f0280$var$sliceMoviesForPagination($da74c390970f0280$var$moviesList);\n    } catch (error) {\n        console.log(error);\n    }\n    (0, $5Hp5W.initPagination)({\n        page: 1,\n        itemsPerPage: 20,\n        totalItems: $da74c390970f0280$var$watchedList.length\n    });\n}\n$da74c390970f0280$var$libraryMoviesRender();\nasync function $da74c390970f0280$var$onClickWatchedBtn() {\n    (0, $5Hp5W.paginationSettings).moviesType = \"WATCHED_MOVIES\";\n    (0, $imjxJ.btnLibraryMoviesRefs).queueBtn?.classList.remove(\"active-movie-list\");\n    (0, $imjxJ.btnLibraryMoviesRefs).watchedBtn?.classList.add(\"active-movie-list\");\n    const promises = $da74c390970f0280$var$watchedList.map((item)=>(0, $h2V5u.getMovieDetails)(item));\n    $da74c390970f0280$var$moviesList = await Promise.allSettled(promises);\n    $da74c390970f0280$var$sliceMoviesForPagination($da74c390970f0280$var$moviesList);\n    (0, $5Hp5W.initPagination)({\n        page: 1,\n        itemsPerPage: 20,\n        totalItems: $da74c390970f0280$var$watchedList.length\n    });\n}\nasync function $da74c390970f0280$var$onClickQueueBtn() {\n    (0, $5Hp5W.paginationSettings).moviesType = \"QUEUE_MOVIES\";\n    (0, $imjxJ.btnLibraryMoviesRefs).watchedBtn?.classList.remove(\"active-movie-list\");\n    (0, $imjxJ.btnLibraryMoviesRefs).queueBtn?.classList.add(\"active-movie-list\");\n    const promises = $da74c390970f0280$var$watchedList.map((item)=>(0, $h2V5u.getMovieDetails)(item));\n    $da74c390970f0280$var$moviesList = await Promise.allSettled(promises);\n    $da74c390970f0280$var$sliceMoviesForPagination($da74c390970f0280$var$moviesList);\n    (0, $5Hp5W.initPagination)({\n        page: 1,\n        itemsPerPage: 20,\n        totalItems: $da74c390970f0280$var$queueList.length - 1\n    });\n}\nfunction $da74c390970f0280$var$sliceMoviesForPagination(moviesList) {\n    if (moviesList.length > 20) {\n        (0, $imjxJ.paginationRef)?.classList.remove(\"hidden\");\n        const slice = moviesList.slice(0, 20);\n        (0, $6dOZP.libraryMoviesListRender)((0, $imjxJ.moviesListRefs).libraryMoviesList, slice);\n    } else {\n        (0, $imjxJ.paginationRef)?.classList.add(\"hidden\");\n        (0, $6dOZP.libraryMoviesListRender)((0, $imjxJ.moviesListRefs).libraryMoviesList, moviesList);\n    }\n}\n\n\nparcelRequire(\"5Hp5W\");\nparcelRequire(\"h2V5u\");\n\n})();\n//# sourceMappingURL=library.671311bb.js.map\n","import './ts/common/preloader';\r\nimport './ts/modal';\r\nimport './ts/helpers/formattedData';\r\nimport './ts/moviesInMyLibrary';\r\nimport './ts/helpers/pagination';\r\nimport './ts/apiService/moviesAPIService';\r\n","import { headerLinkRefs, moviesListRefs, btnLibraryMoviesRefs, paginationRef } from './common/refs';\r\nimport { getDataFromLocalStorage } from './localStorage/localStorageController';\r\nimport { initPagination, paginationSettings } from './helpers/pagination';\r\nimport { libraryMoviesListRender } from './common/render/moviesListRender';\r\nimport { getMovieDetails } from './apiService/moviesAPIService';\r\n\r\nconst watchedList: any = getDataFromLocalStorage('watchedListMovies');\r\nconst queueList = getDataFromLocalStorage('queueListMovies');\r\n\r\nlet moviesList: any = [];\r\n\r\nbtnLibraryMoviesRefs.watchedBtn?.addEventListener('click', onClickWatchedBtn);\r\nbtnLibraryMoviesRefs.queueBtn?.addEventListener('click', onClickQueueBtn);\r\n\r\nasync function libraryMoviesRender() {\r\n  paginationSettings.moviesType = 'WATCHED_MOVIES';\r\n\r\n  headerLinkRefs.library?.classList.add('header-link-active');\r\n  btnLibraryMoviesRefs.watchedBtn?.classList.add('active-movie-list');\r\n  try {\r\n    const promises = watchedList.map((item: any) => getMovieDetails(item));\r\n    moviesList = await Promise.allSettled(promises);\r\n\r\n    sliceMoviesForPagination(moviesList);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n\r\n  initPagination({ page: 1, itemsPerPage: 20, totalItems: watchedList.length });\r\n}\r\n\r\nlibraryMoviesRender();\r\n\r\nasync function onClickWatchedBtn() {\r\n  paginationSettings.moviesType = 'WATCHED_MOVIES';\r\n\r\n  btnLibraryMoviesRefs.queueBtn?.classList.remove('active-movie-list');\r\n  btnLibraryMoviesRefs.watchedBtn?.classList.add('active-movie-list');\r\n\r\n  const promises = watchedList.map((item: any) => getMovieDetails(item));\r\n  moviesList = await Promise.allSettled(promises);\r\n\r\n  sliceMoviesForPagination(moviesList);\r\n\r\n  initPagination({ page: 1, itemsPerPage: 20, totalItems: watchedList.length });\r\n}\r\n\r\nasync function onClickQueueBtn() {\r\n  paginationSettings.moviesType = 'QUEUE_MOVIES';\r\n  btnLibraryMoviesRefs.watchedBtn?.classList.remove('active-movie-list');\r\n  btnLibraryMoviesRefs.queueBtn?.classList.add('active-movie-list');\r\n\r\n  const promises = watchedList.map((item: any) => getMovieDetails(item));\r\n  moviesList = await Promise.allSettled(promises);\r\n\r\n  sliceMoviesForPagination(moviesList);\r\n\r\n  initPagination({ page: 1, itemsPerPage: 20, totalItems: queueList.length - 1 });\r\n}\r\n\r\nfunction sliceMoviesForPagination(moviesList: any) {\r\n  if (moviesList.length > 20) {\r\n    paginationRef?.classList.remove('hidden');\r\n    const slice = moviesList.slice(0, 20);\r\n    libraryMoviesListRender(moviesListRefs.libraryMoviesList, slice);\r\n  } else {\r\n    paginationRef?.classList.add('hidden');\r\n    libraryMoviesListRender(moviesListRefs.libraryMoviesList, moviesList);\r\n  }\r\n}\r\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$imjxJ","$6xcLG","$5Hp5W","$6dOZP","$h2V5u","$da74c390970f0280$var$watchedList","getDataFromLocalStorage","$da74c390970f0280$var$queueList","$da74c390970f0280$var$moviesList","$da74c390970f0280$var$onClickWatchedBtn","paginationSettings","moviesType","btnLibraryMoviesRefs","queueBtn","classList","remove","watchedBtn","add","promises","map","item","getMovieDetails","$da74c390970f0280$var$sliceMoviesForPagination","Promise","allSettled","initPagination","page","itemsPerPage","totalItems","length","$da74c390970f0280$var$onClickQueueBtn","moviesList","paginationRef","slice","libraryMoviesListRender","moviesListRefs","libraryMoviesList","addEventListener","$da74c390970f0280$var$libraryMoviesRender","headerLinkRefs","library","error","console","log"],"version":3,"file":"library.671311bb.js.map"}