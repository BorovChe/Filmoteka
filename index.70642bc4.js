!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired76b;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,a.call(s.exports,s,s.exports),s.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired76b=a),a.register,a("ioqnc"),a("2lior");var s=a("imjxJ"),i=a("ixw25"),o=a("h2V5u"),r=a("8pgbe"),l=a("gFS1C"),u=a("ejkSG");let c={width:"280px",position:"right-top",distance:"10px",timeout:2e3,backOverlay:!1,showOnlyTheLastOne:!0,clickToClose:!0,fontFamily:"Quicksand",fontSize:"16px",cssAnimationDuration:800,useIcon:!1,useFontAwesome:!0,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"15px",failure:{background:"rgb(255, 0, 27, 1)",textColor:"#fff"},warning:{background:"rgb(255, 0, 27, 1)",textColor:"#fff"}};var d=a("d7crU");async function g(e){e.preventDefault();let t=e.target,n=t.elements.searchMovies.value.trim();if((0,d.createCurrentPageFromStorage)(l.paginationSettings.startPage,"SEARCH_MOVIES",n),""===n){(0,u.Notify).warning("Please enter the movie title!",c);return}let a=await (0,o.getSearchMovies)(n,l.paginationSettings.startPage);(0,i.checkingForMoviesAndRender)(s.moviesListRefs.homeMoviesList,a,r.movieListStubTitles.search),t.reset()}(0,s.searchFormRef).addEventListener("submit",g),a("iYlp3"),a("e3CjK"),a("h2V5u"),a("1Ep8q");var o=a("h2V5u"),s=a("imjxJ"),i=a("ixw25"),r=a("8pgbe"),s=a("imjxJ"),i=a("ixw25"),o=a("h2V5u"),r=a("8pgbe"),d=a("d7crU");async function f(e){(0,d.createCurrentPageFromStorage)(e,"TRENDING_MOVIES","");let t=await (0,o.getTrendingMovies)(e);(0,i.checkingForMoviesAndRender)(s.moviesListRefs.homeMoviesList,t,r.movieListStubTitles.common)}var m=a("goE6W"),l=a("gFS1C");let p=(0,m.getDataFromSessionStorage)("currentSetPagination");!async function(){if((0,s.headerLinkRefs).home.classList.add("header-link-active"),!p)return f(l.paginationSettings.startPage);if("SEARCH_MOVIES"===p.type){let e=await (0,o.getSearchMovies)(p.query,p.page);(0,i.checkingForMoviesAndRender)(s.moviesListRefs.homeMoviesList,e,r.movieListStubTitles.search)}else f(p.page||l.paginationSettings.startPage)}();var s=a("imjxJ"),y=a("7lOwY"),h=a("kR1YT");let b=()=>`
  <strong>SignUp</strong>
    <form class="signUp-form">
      <input class="email-input" placeholder="Email" name="email" type="email" />
      <input class="password-input" placeholder="Password" name="password" type="password" />
        <button type='submit' class="submit-signUp">SignUp</button>
        <button type='button' class="google-signIn">\u{413}\u{443}\u{433}\u{435}\u{43B}</button>
    </form>
    <p>or</p><button type=button class='signIn-btn-inModal'>SignIn</button>
    `,v=()=>`
  <strong>SignIn</strong>
    <form class="signIn-form">
      <input class="email-input" placeholder="Email" name="email" type="email" />
      <input class="password-input" placeholder="Password" name="password" type="password" />
      <button type='submit' class="submit-signIn">SignIn</button>
      <button type='button' class="google-signIn">\u{413}\u{443}\u{433}\u{435}\u{43B}</button>
  </form>
    <p>or</p><button type=button class='signUp-btn-inModal'>SignUp</button>
  `;var R=a("bDjAe"),S=a("gHQDN"),w=a("gQOBw"),R=a("bDjAe"),y=a("7lOwY"),u=a("ejkSG");let L=new w.GoogleAuthProvider;async function k(){try{await (0,w.signInWithPopup)(R.auth,L),(0,y.onCloseModal)()}catch(t){let e;e=t instanceof Error?t.message:String(t),(0,u.Notify).failure(e)}}var w=a("gQOBw"),u=a("ejkSG"),y=a("7lOwY");async function E(e,t,n){try{await (0,w.signInWithEmailAndPassword)(e,t,n),(0,y.onCloseModal)()}catch(t){let e;e=t instanceof Error?t.message:String(t),(0,u.Notify).failure(e)}}var w=a("gQOBw"),u=a("ejkSG"),y=a("7lOwY");async function I(e,t,n){try{await (0,w.createUserWithEmailAndPassword)(e,t,n),(0,y.onCloseModal)()}catch(t){let e;e=t instanceof Error?t.message:String(t),(0,u.Notify).failure(e)}}var U=a("7Olfg");(0,s.authRefs).authBlock.addEventListener("click",function(e){if(e.target===s.authRefs.signUp&&((0,s.modalRefs).modalContainer.classList.add("auth-container"),(0,h.modalRender)(b()),(0,y.onOpenModal)(),O=document.querySelector(".signUp-form")),e.target===s.authRefs.signIn&&((0,s.modalRefs).modalContainer.classList.add("auth-container"),(0,h.modalRender)(v()),(0,y.onOpenModal)(),O=document.querySelector(".signIn-form")),e.target===s.authRefs.signOut&&(0,U.signOutFunc)(R.auth),O){O.addEventListener("submit",C);let e=document.querySelector(".google-signIn");e?.addEventListener("click",k)}});let O=null;async function C(e){if(!O)return;e.preventDefault();let t=new FormData(O),n=t.get("email"),a=t.get("password");O.classList.contains("signUp-form")?I(R.auth,n,a):E(R.auth,n,a)}(0,R.auth).onAuthStateChanged(e=>{null!==e?(s.authRefs.signUp.style.display="none",s.authRefs.signIn.style.display="none",s.authRefs.signOut.style.display="block",s.headerLinkRefs.library.style.pointerEvents="",s.authRefs.currentUser.style.display="block",s.authRefs.currentUser.textContent=e.email,(0,S.setDataFromLocalSrorage)("auth",e)):(s.authRefs.signUp.style.display="inline-block",s.authRefs.signIn.style.display="inline-block",s.authRefs.signOut.style.display="none",s.headerLinkRefs.library.style.pointerEvents="none",s.headerLinkRefs.library.style.pointerEvents="none",s.authRefs.currentUser.style.display="none",(0,S.setDataFromLocalSrorage)("auth",null))}),function(){let e=(0,S.getDataFromLocalStorage)("auth");e?(s.authRefs.signUp.style.display="none",s.authRefs.signIn.style.display="none",s.authRefs.signOut.style.display="block",s.headerLinkRefs.library.style.pointerEvents="",s.authRefs.currentUser.style.display="block",s.authRefs.currentUser.textContent=e.email):(s.authRefs.signUp.style.display="inline-block",s.authRefs.signIn.style.display="inline-block",s.authRefs.signOut.style.display="none",s.headerLinkRefs.library.style.pointerEvents="none",s.authRefs.currentUser.style.display="none")}();var s=a("imjxJ"),h=a("kR1YT"),R=a("bDjAe");(0,s.modalRefs).modalContainer.addEventListener("click",function(e){let t=document.querySelector(".signUp-btn-inModal"),n=document.querySelector(".signIn-btn-inModal");if(e.target===t&&((0,s.modalRefs).modalContainer.classList.remove("modal-details-container"),(0,s.modalRefs).modalContainer.classList.add("auth-container"),(0,h.modalRender)(b()),M=document.querySelector(".signUp-form")),e.target===n&&((0,s.modalRefs).modalContainer.classList.remove("modal-details-container"),(0,s.modalRefs).modalContainer.classList.add("auth-container"),(0,h.modalRender)(v()),M=document.querySelector(".signIn-form")),M){M.addEventListener("submit",x);let e=document.querySelector(".google-signIn");e?.addEventListener("click",k)}});let M=null;async function x(e){if(!M)return;e.preventDefault();let t=new FormData(M),n=t.get("email"),a=t.get("password");M.classList.contains("signUp-form")?I(R.auth,n,a):E(R.auth,n,a)}var D=a("cokon"),S=a("gHQDN"),R=a("bDjAe");let F=(0,S.getDataFromLocalStorage)("auth");(0,D.ref)(R.database,"movies/"+F.uid)}();
//# sourceMappingURL=index.70642bc4.js.map
